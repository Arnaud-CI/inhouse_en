(function(e){e.fn.caption=function(t){t=e.extend({number:1,linePoints:[[0,0],[1,1]],text:"Hello World!",link:false,alternateBadge:false},t);var n={layer:true,name:"badges",strokeStyle:"#000066",strokeWidth:1},r;for(r=0;r<t.linePoints.length;r++){n["x"+(r+1)]=t.linePoints[r][0];n["y"+(r+1)]=t.linePoints[r][1]}e(this).drawLine(n);if(t.alternateBadge){var i="#fff";var s="#000066"}else{var i="#000066";var s="#fff"}e(this).drawEllipse({layer:true,name:"badges",fillStyle:i,x:t.linePoints[0][0],y:t.linePoints[0][1],width:40,height:40,strokeStyle:"#000066",strokeWidth:1,click:function(){if(t.link){e.mobile.changePage(t.link,{transition:"slide"})}}});e(this).drawText({layer:true,name:"badges",fillStyle:s,x:t.linePoints[0][0],y:t.linePoints[0][1],text:t.number,align:"left",baseline:"middle",fontFamily:"Trebuchet MS, sans-serif",fontSize:"22pt",click:function(){if(t.link){e.mobile.changePage(t.link,{transition:"slide"})}}});e(this).drawText({layer:true,name:"badges",fillStyle:"#000066",x:t.linePoints[0][0]+30,y:t.linePoints[0][1]-20,text:t.text,align:"left",baseline:"middle",fontFamily:"Trebuchet MS, sans-serif",fontSize:"10pt",fontStyle:"italic",lineHeight:1.3,fromCenter:false,click:function(){if(t.link){e.mobile.changePage(t.link,{transition:"slide"})}}})}})(jQuery)